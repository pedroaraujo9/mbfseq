% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{gen_reg_matrix}
\alias{gen_reg_matrix}
\title{Regularized Design Matrix for Cluster-Specific Effects}
\usage{
gen_reg_matrix(w_vec, M, B_expand, intercept = FALSE)
}
\arguments{
\item{w_vec}{Integer vector. Cluster assignment for each row.}

\item{M}{Integer. Number of clusters.}

\item{B_expand}{Matrix. Basis expansion for all clusters.}

\item{intercept}{Logical. If TRUE, includes an intercept column. Default is FALSE.}
}
\value{
Numeric matrix, same shape as B_expand.
}
\description{
Constructs a design matrix for cluster-specific basis coefficients.
}
\examples{
\dontrun{
gen_reg_matrix(c(1, 2, 3), 3, matrix(1, 3, 3), intercept = TRUE)
}
}
\keyword{internal}
